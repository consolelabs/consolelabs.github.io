<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="kek"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="How to use a shared UI library in multiple platforms."><meta property="og:description" content="kek"><meta property="og:type" content="article"><meta property="og:url" content="https://consolelabs.github.io/playbook/mochi-ui/"><meta property="article:section" content="playbook"><meta property="article:published_time" content="2023-09-11T00:00:00+00:00"><meta property="article:modified_time" content="2023-09-11T00:00:00+00:00"><title>How to use a shared UI library in multiple platforms. | Console Labs</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=stylesheet href=/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz+OQteg=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.0a14ec377380dfe8b7cdc3650c9c1664f743c967f84eec03ea07768394c9114f.js integrity="sha256-ChTsN3OA3+i3zcNlDJwWZPdDyWf4TuwD6gd2g5TJEU8=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Console Labs</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>How to use a shared UI library in multiple platforms.</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#background>Background</a></li><li><a href=#wins>Wins</a><ul><li><a href=#flatten-the-learning-curves>Flatten the learning curves.</a></li><li><a href=#consistency-throughout-the-systems>Consistency throughout the systems</a></li></ul></li><li><a href=#gotchas>Gotchas</a></li><li><a href=#final-thoughts>Final thoughts</a></li></ul></nav></aside></header><article class=markdown><p>by hnh.</p><h2 id=background>Background
<a class=anchor href=#background>#</a></h2><p>Earlier this year, we introduced a new version of Telegram for Mochi, but it came with some new challenges.</p><p>Up until now, we&rsquo;ve been using a single backend system to support all of our services. This approach was taken to ensure a smooth experience for both users and engineers across different platforms. However, a problem arose when it came to the user interface. We found ourselves dealing with two different sets of rules (Discord & Telegram) for how the interface should look and behave. This complexity kept growing as we added new features and concepts. Eventually, we reached a point where it became nearly impossible to maintain consistency between the two platforms. Worth noting that, we also aim to have a Web, Mobile & Raycast versions for Mochi.</p><p>To solve these problems and make sure everyone has a similar and easy experience, we realized we need a library that contains all our UI stuff that everyone can use.</p><p>But, making this library work on different platforms isn&rsquo;t simple. It needs to be easy enough for our frontend team to use, also flexible enough to work on all platforms.</p><h2 id=wins>Wins
<a class=anchor href=#wins>#</a></h2><h3 id=flatten-the-learning-curves>Flatten the learning curves.
<a class=anchor href=#flatten-the-learning-curves>#</a></h3><p>You might not know this, but our frontend team only has 2 full-time members who really understand all the business and technical stuff. And we have 3 platforms to take care of. So, we definitely need some extra help from our community through our &lsquo;Bounty Program.&rsquo;</p><p>Luckily, thanks to our shared library, the process is pretty simple now.</p><p>Before:</p><pre tabindex=0><code>A: Hey, can you help me with this feature?
A: This feature will be on Discord, Telegram, and the website. Here&#39;s how it should work on each platform.
A: Make sure to create test files for all the platforms because we make changes frequently.
A: Oh, and please document it somewhere because I might forget.
B: ...
</code></pre><p>Now:</p><pre tabindex=0><code>A: Hey, can you help me with this feature?
A: All you need to do is use a function from a well-tested and clearly defined source.
B: Sure!
</code></pre><h3 id=consistency-throughout-the-systems>Consistency throughout the systems
<a class=anchor href=#consistency-throughout-the-systems>#</a></h3><p>Dealing with the nitty-gritty details can be quite challenging. Often, we overlook small things like how to display numbers or whether we should add a period at the end of a sentence.</p><p>Handling these details on just one platform is tough, and when it comes to managing them on five different platforms, it feels nearly impossible. Our daily meetings are increasingly filled with questions like, &ldquo;Hey, did you make this change on Discord but forget about it on Telegram?&rdquo; and vice versa.</p><p>After we introduced <code>mochi-ui</code> our focus shifted from dealing with technical issues to more meaningful questions like, &ldquo;Does this feature actually make sense?&rdquo; or &ldquo;Hey, this is a bug report from a user, can someone look into it?&rdquo; These are the kinds of challenges we are more than happy to face.</p><h2 id=gotchas>Gotchas
<a class=anchor href=#gotchas>#</a></h2><p>Of course, there&rsquo;s no one-size-fits-all solution, especially on the first attempt. We&rsquo;ve identified some issues, and we&rsquo;d be glad to have your hand in addressing them:</p><ul><li><strong>Lack of Local Preview</strong>: Currently, we don&rsquo;t have a way to preview changes locally. The only option is to update the package and check it in our development environments.</li><li><strong>Text-Based Components</strong>: Some of our components are still text-based, which could be limiting if we need to use them in web applications.</li><li><strong>Single point of failure</strong>: Since &lsquo;mochi-ui&rsquo; is centralized as the only implementation, we must ensure it&rsquo;s robust and fast. Some rendering logic still requires API calls, and we need to find ways to eliminate this dependency.</li></ul><h2 id=final-thoughts>Final thoughts
<a class=anchor href=#final-thoughts>#</a></h2><p>This approach is not and never a silver-bullet and may not be appropriate in all cases. However, we believe that this implementation has made our lives a bit less stressful by allowing us to shift our focus to other areas.</p><p>This blog post is part of our Mochi Frontend Practices, also check out:</p><ul><li>How we using mock data to fasten our UI development</li><li>Guidelines: How to render currency and profile name</li><li>Applying state machine to switch UI view</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#background>Background</a></li><li><a href=#wins>Wins</a><ul><li><a href=#flatten-the-learning-curves>Flatten the learning curves.</a></li><li><a href=#consistency-throughout-the-systems>Consistency throughout the systems</a></li></ul></li><li><a href=#gotchas>Gotchas</a></li><li><a href=#final-thoughts>Final thoughts</a></li></ul></nav></div></aside></main></body></html>