<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content><meta name=description property="og:description" content><meta name=keywords content><meta property="og:type" content="website"><meta property="og:url" content="https://log.console.so/playbook/ci-cd/"><meta property="og:image" content="https://log.console.so/img/ConsoleLabs_logo_1.jpg"><link rel=icon type=image/x-icon href=https://log.console.so/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://log.console.so/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://log.console.so/favicon-32x32.png><link rel=apple-touch-icon href=https://log.console.so/apple-touch-icon.png><title>Continuous Integration | Console Labs</title>
<meta name=description content><link rel=canonical href=https://log.console.so/playbook/ci-cd/><link rel="shortcut icon" type=image/png href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII="><script defer data-domain=log.console.so src=https://plausible.io/js/script.js></script><style>:root{--primary-color:#45f1a6;--primary-color-light:#2ea370;--nav-sidebar-width:200px;--nav-sidebar-offset:40px;--main-padding:45px;--column-gap:20px}body{font:16px sans-serif;color:#000;text-rendering:optimizeLegibility;padding:2rem;max-width:100%;margin:0;padding:0;background-color:#fff;line-height:25px;min-height:100vh;display:flex;flex-direction:column;overflow-wrap:break-word;hyphens:auto}h1,h2,h3,h4{color:var(--primary-color)}h1{font-size:45px;display:none}h2{font-size:30px}h3{font-size:20px}h4{font-size:15px}hr{margin-left:0}q{font-size:20px;max-width:500px;display:block;margin-left:30px}pre{font-family:monospace;background:#000;color:#fff;padding:15px;border-radius:2px;overflow-x:auto;width:100%;box-sizing:border-box}pre>code{display:block;text-indent:0;white-space:inherit;font-weight:400}code{font-family:monospace;font-size:12px;background:#000;color:#fff;padding:2px 5px;white-space:wrap;border-radius:2px;font-weight:700;display:inline-block;line-height:16px;overflow-x:scroll;margin-bottom:-4px}code comment{color:#777}code.button{background:#fff;color:#000;font-size:smaller;display:inline-block;padding:0 6px;font-weight:700;border-radius:2px;line-height:22px}a[href*="#"]{text-decoration:none}nav.menu{float:left;padding:var(--main-padding);max-width:var(--nav-sidebar-width);line-height:22px;margin-top:-2px;white-space:nowrap}nav .site-nav{margin:20px 0;display:block}nav .site-nav section{float:left;margin-top:-2px}nav .site-nav section h2{margin:20px 0;font-size:24px;text-transform:lowercase}nav.menu details summary{margin-bottom:30px}nav.menu ul{padding:0 10px 10px 0;margin:0;list-style-type:none;line-height:22px}main{padding:var(--main-padding);max-width:100%;box-sizing:border-box;float:left}main>ul{line-height:25px;margin:0}main>ul>li>a{text-decoration:underline}.dual-list>ul{columns:2}.single-list>ul{columns:2}.profile img{width:100px;height:100px;object-fit:cover;aspect-ratio:1/1}.profile object{width:100px;height:100px;object-fit:cover;aspect-ratio:1/1}table,th,td{border:1px solid;border-collapse:collapse;border-spacing:0}tr{max-height:100px;max-width:100px}td{padding:0 20px;max-width:300px;max-height:100px;overflow:hidden;text-overflow:ellipsis}td:has(img){padding:0;line-height:0}#TableOfContents>ul>li>a{text-decoration:underline}#TableOfContents>ul{display:grid;column-gap:var(--column-gap);box-sizing:border-box;grid-template-columns:repeat(auto-fill,minmax(var(--nav-sidebar-width),calc(50% - var(--column-gap))));line-height:20px}#TableOfContents li{white-space:nowrap;list-style-type:decimal-leading-zero;list-style-position:inside;overflow:hidden;text-overflow:ellipsis}.notice{padding:20px;border:2px solid #000}main>blockquote{padding:20px;border:2px solid #000}main>*{max-width:600px;margin-bottom:30px}header{padding:var(--main-padding);border-bottom:1px solid #222}header a img{filter:invert(0)}header h1{display:inline}footer{margin-top:auto;padding:var(--main-padding);clear:both}nav .site-nav ul li{list-style-type:none;display:flex;font-variant-numeric:tabular-nums}li:has(input[type=checkbox]){display:block;list-style-type:none}ul:has(li input[type=checkbox]){padding:0}ul li a{overflow:hidden;text-overflow:ellipsis;width:calc(var(--nav-sidebar-width) + var(--nav-sidebar-offset));background-color:#fff}ul li a:hover{white-space:nowrap;width:100%;z-index:10}ul li p{margin-block-end:0;margin-block-start:0}time{padding-right:1rem}blockquote{margin:1em 0;padding:0 2em;border-left:3px solid #eee}img{max-width:100%}a,a:visited{color:#000}@media(prefers-color-scheme:dark){a,a:visited{color:#fff}body{background:#000;color:#fff}header a img{filter:invert(1)}body a{color:#fff}pre{background:#fff;color:#000}code{background:#fff;color:#000}body select{color:#000;background-color:#fff}.project{border-left:2px solid #fff}.notice{border-color:#fff}.mono{filter:invert(1)}.progress>div{background-color:#fff}.progress>div>span{color:#000}main>blockquote{border-color:#fff}ul li a{background-color:inherit}section>ul li a{background-color:inherit}}@media(prefers-color-scheme:light){h1,h2,h3,h4{color:var(--primary-color-light)}}@media only screen and (max-width:1100px){:root{--nav-sidebar-width:140px;--nav-sidebar-offset:0px}nav{width:100%}nav .site-nav section{float:left;margin:0 10px 10px 0}nav.menu{max-width:100%;box-sizing:border-box;display:inline-block}nav .site-nav{display:grid;column-gap:var(--column-gap);grid-template-columns:repeat(auto-fill,minmax(var(--nav-sidebar-width),1fr))}main{display:inline-block;width:unset}main>*{max-width:100%}ul li a{width:var(--nav-sidebar-width)}}</style><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"playbook","name":"Continuous Integration","headline":"Continuous Integration","alternativeHeadline":"","description":"What Continuous Integration (CI) is a development practice where developers integrate code into a shared repository frequently, preferably several times a day. Each integration can then be verified by an automated build and automated tests. While automated testing is not strictly part of CI it is typically implied.\nOne of the key benefits of integrating regularly is that you can detect errors quickly and locate them more easily. As each change introduced is typically small, pinpointing the specific change that introduced a defect can be done quickly.","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/log.console.so\/playbook\/ci-cd\/"},"author":{"@type":"Person","name":"Han Ngo"},"creator":{"@type":"Person","name":"Han Ngo"},"accountablePerson":{"@type":"Person","name":"Han Ngo"},"copyrightHolder":"Console Labs","copyrightYear":"2023","date":"2023-09-14T00:00:00.00Z","dateCreated":"2023-09-14T00:00:00.00Z","datePublished":"2023-09-14T00:00:00.00Z","dateModified":"2023-09-14T00:00:00.00Z","publisher":{"@type":"Organization","name":"Console Labs","url":"https://log.console.so/","logo":{"@type":"ImageObject","url":"https:\/\/log.console.so\/","width":"32","height":"32"}},"image":"https://log.console.so/","url":"https:\/\/log.console.so\/playbook\/ci-cd\/","wordCount":"356","genre":["deployment","workflow"],"keywords":["deployment","workflow"]}</script><style>body{visibility:hidden;opacity:0}</style><noscript><style>body{visibility:visible;opacity:1}</style></noscript><script type=text/javascript>window.addEventListener("DOMContentLoaded",function(){document.body.style.visibility="visible",document.body.style.opacity=1})</script></head><body class=playbook><header><a href=/><img src=https://log.console.so/img/ConsoleLabs_logo.png alt=ConsoleLabs height=103px style="margin:-28px -26px"></a></header><div><nav class=menu><details open><summary>Menu</summary><section class=site-nav><section><ul><li><a href=/about/>About Us</a></li><li><a href=/contributors/>Contributors</a></li><li><a href=/bounty/>Earn</a></li><li><a href=/site-index/>Index</a></li><li><a href=/philosophy/>Philosophy</a></li><li><a href=/purpose/>Purpose</a></li></ul></section><section><h2>experiments</h2><ul><li><a href=/experiments/emoji/>Emoji</a></li><li><a href=/experiments/mochi/>Mochi</a></li><li><a href=/experiments/neko/>Neko NFT</a></li><li><a href=/experiments/rabby/>Rabby NFT</a></li><li><a href=/experiments/wagmi/>WAGMI comics</a></li></ul></section><section><h2>blog</h2><ul><li><a href=/blog/log/>Log</a></li><li><a href=/blog/shape-up/>Shape Up</a></li></ul></section><section><h2>playbook</h2><ul><li><a href=/playbook/api-first/>API-first development</a></li><li><a href=/playbook/ci-cd/>Continuous Integration</a></li><li><a href=/playbook/data-layer/>Data layer</a></li><li><a href=/playbook/format-profile-number/>Format a Neko profile</a></li><li><a href=/playbook/render-emoji/>How to work with emoji on Discord</a></li><li><a href=/playbook/add-new-chains/>Integrate new chain</a></li><li><a href=/playbook/meaningful-commit/>Meaningful commit message</a></li><li><a href=/playbook/shared-ui-lib/>Shared UI library in multiple platforms</a></li></ul></section></section></details></nav><main><aside class=authors>by
<a href=/members/quang>quang</a>,
<a href=/members/hnh>hnh</a></aside><aside class=toc><nav id=TableOfContents><ul><li><a href=#what>What</a></li><li><a href=#importance-of-ci>Importance of CI</a></li><li><a href=#cicd--console-labs>CI/CD @ Console Labs</a></li><li><a href=#toolset>Toolset</a></li><li><a href=#environment-setup>Environment setup</a></li><li><a href=#checklist>Checklist</a></li><li><a href=#deployment-flow>Deployment flow</a></li></ul></nav></aside><h2 id=what><a href=#what>What <a href=#what></a></a></h2><p>Continuous Integration (CI) is a development practice where developers integrate code into a shared repository frequently, preferably several times a day. Each integration can then be verified by an automated build and automated tests. While automated testing is not strictly part of CI it is typically implied.</p><p>One of the key benefits of integrating regularly is that you can detect errors quickly and locate them more easily. As each change introduced is typically small, pinpointing the specific change that introduced a defect can be done quickly.</p><h2 id=importance-of-ci><a href=#importance-of-ci>Importance of CI <a href=#importance-of-ci></a></a></h2><p>In order to understand the importance of CI, it&rsquo;s helpful first to discuss some pain points that often arise due to the absence of CI. Without CI, developers must manually coordinate and communicate when they are contributing code to the end product. This coordination extends beyond the development teams to the rest of the organization, as well. Product teams must coordinate when to sequentially launch features and fixes and which team members will be responsible.</p><p>Without a robust CI pipeline, a disconnect between the engineering team and the rest of the org can form. Communication between product and engineering can be cumbersome. Engineering becomes a black box which the rest of the team inputs requirements and features and maybe gets expected results back. It will make it harder for engineering to estimate time of delivery on requests because the time to integrate new changes becomes an unknown risk.</p><h2 id=cicd--console-labs><a href=#cicd--console-labs>CI/CD @ Console Labs <a href=#cicd--console-labs></a></a></h2><p>At Console Labs, achieving an efficient deployment pipeline is done by following these best practices:</p><ul><li>The process for releasing/deploying software MUST be repeatable and reliable</li><li>Automate everything - automate all the tasks you repeatedly do, and this tends to lead to reliability</li><li>Done means &ldquo;released.&rdquo;</li><li>Write good commit message, since they will directly translate to product team changelogs</li></ul><h2 id=toolset><a href=#toolset>Toolset <a href=#toolset></a></a></h2><ul><li>Docker</li><li>Github action</li><li>Commitlint</li><li>Semantic-release</li><li>Kustomization</li><li>ArgoCD</li></ul><h2 id=environment-setup><a href=#environment-setup>Environment setup <a href=#environment-setup></a></a></h2><p>There is 5 different environments for most of our services.</p><ul><li>Local</li><li>CI</li><li>Dev</li><li>Preview</li><li>Production</li></ul><p>Preview and Production share the same underlying database/infras, we separated them for user experiences.</p><h2 id=checklist><a href=#checklist>Checklist <a href=#checklist></a></a></h2><ul><li><input disabled type=checkbox> Write a meaningful commit`</li><li><input disabled type=checkbox> All tests passed</li><li><input disabled type=checkbox> Backward compatible for all APIs & migrations</li></ul><h2 id=deployment-flow><a href=#deployment-flow>Deployment flow <a href=#deployment-flow></a></a></h2><p><img src=/playbook/../images/playbook/ci-cd.png onerror='this.onerror=null,this.src="/images/experiments/neko/neko-first-version.jpeg"'></p></main></div></body></html><footer><hr><span style=float:right>Edited on Sep 14, 2023<br></span><b>Console Labs</b> © 2023 — <a href=https://github.com/consolelabs/consolelabs.github.io/blob/main/LICENSE.by-nc-sa-4.0.md target=_blank>BY-NC-SA 4.0</a></footer>