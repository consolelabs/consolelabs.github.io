<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Ronalds Vilcins - https://log.console.so"><title>CI-CD @ Console Labs | Console Labs</title><meta name=description content><link rel=canonical href=https://log.console.so/playbook/ci-cd/><link rel=alternate type=application/atom+xml title="Console Labs" href=https://log.console.soatom.xml><link rel=alternate type=application/json title="Console Labs" href=https://log.console.sofeed.json><link rel="shortcut icon" type=image/png href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII="><style>body{font:17px/1.6 sans-serif;color:#fff;text-rendering:optimizeLegibility;padding:2rem;max-width:70ch;margin:0;background-color:#000}h1,h2,h3,h4,h5{font-size:inherit;font-weight:inherit;text-decoration:underline}header h1{display:inline}pre,code{font-size:inherit;background:#eee}pre{margin-bottom:2rem}pre code{display:block;border:none;padding:1em;background:0 0;overflow-x:auto}code{background:#eee}.writing ul li,.home ul li{list-style-type:none;display:flex;font-variant-numeric:tabular-nums}.home ul li a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}ul,ol{padding:0}time{padding-right:1rem}blockquote{margin:1em 0;padding:0 2em;border-left:3px solid #eee}img{max-width:100%}a,a:visited{color:#fff}</style><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"playbook","name":"CI-CD @ Console Labs","headline":"CI-CD @ Console Labs","alternativeHeadline":"","description":"by quang, hnh\nWhat ¶ Continuous Integration (CI) is a development practice where developers integrate code into a shared repository frequently, preferably several times a day. Each integration can then be verified by an automated build and automated tests. While automated testing is not strictly part of CI it is typically implied.\nOne of the key benefits of integrating regularly is that you can detect errors quickly and locate them more easily.","inLanguage":"en","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/log.console.so\/playbook\/ci-cd\/"},"author":{"@type":"Person","name":""},"creator":{"@type":"Person","name":""},"accountablePerson":{"@type":"Person","name":""},"copyrightHolder":"Console Labs","copyrightYear":"2023","date":"2023-09-14T00:00:00.00Z","dateCreated":"2023-09-14T00:00:00.00Z","datePublished":"2023-09-14T00:00:00.00Z","dateModified":"2023-09-14T00:00:00.00Z","publisher":{"@type":"Organization","name":"Console Labs","url":"https://log.console.so","logo":{"@type":"ImageObject","url":"https:\/\/log.console.so","width":"32","height":"32"}},"image":"https://log.console.so","url":"https:\/\/log.console.so\/playbook\/ci-cd\/","wordCount":"366","genre":["deployment","workflow"],"keywords":["deployment","workflow"]}</script></head><body class=playbook><header><h1><a href=/>Console Labs</a></h1>/<h1><a href=/playbook/ci-cd/>CI-CD @ Console Labs</a></h1></header><article><p>by quang, hnh</p><h2 id=what><a href=#what>What <a href=#what>¶</a></a></h2><p>Continuous Integration (CI) is a development practice where developers integrate code into a shared repository frequently, preferably several times a day. Each integration can then be verified by an automated build and automated tests. While automated testing is not strictly part of CI it is typically implied.</p><p>One of the key benefits of integrating regularly is that you can detect errors quickly and locate them more easily. As each change introduced is typically small, pinpointing the specific change that introduced a defect can be done quickly.</p><h2 id=importance-of-ci><a href=#importance-of-ci>Importance of CI <a href=#importance-of-ci>¶</a></a></h2><p>In order to understand the importance of CI, it&rsquo;s helpful first to discuss some pain points that often arise due to the absence of CI. Without CI, developers must manually coordinate and communicate when they are contributing code to the end product. This coordination extends beyond the development teams to the rest of the organization, as well. Product teams must coordinate when to sequentially launch features and fixes and which team members will be responsible.</p><p>Without a robust CI pipeline, a disconnect between the engineering team and the rest of the org can form. Communication between product and engineering can be cumbersome. Engineering becomes a black box which the rest of the team inputs requirements and features and maybe gets expected results back. It will make it harder for engineering to estimate time of delivery on requests because the time to integrate new changes becomes an unknown risk.</p><h2 id=cicd--console-labs><a href=#cicd--console-labs>CI/CD @ Console Labs <a href=#cicd--console-labs>¶</a></a></h2><p>At Console Labs, achieving an efficient deployment pipeline is done by following these best practices:</p><ul><li>The process for releasing/deploying software MUST be repeatable and reliable</li><li>Automate everything - automate all the tasks you repeatedly do, and this tends to lead to reliability</li><li>Done means &ldquo;released.&rdquo;</li><li>Write good commit message, since they will directly translate to product team changelogs</li></ul><h2 id=toolset><a href=#toolset>Toolset <a href=#toolset>¶</a></a></h2><ul><li>Docker</li><li>Github action</li><li>Commitlint</li><li>Semantic-release</li><li>Kustomization</li><li>ArgoCD</li></ul><h2 id=environment-setup><a href=#environment-setup>Environment setup <a href=#environment-setup>¶</a></a></h2><p>There is 5 different environments for most of our services.</p><ul><li>Local</li><li>CI</li><li>Dev</li><li>Preview</li><li>Production</li></ul><p>Preview and Production share the same underlying database/infras, we separated them for user experiences.</p><h2 id=checklist><a href=#checklist>Checklist <a href=#checklist>¶</a></a></h2><ul><li><input disabled type=checkbox> Write a meaningful commit</li><li><input disabled type=checkbox> All tests passed</li><li><input disabled type=checkbox> Backward compatible for all APIs & migrations</li></ul><h2 id=deployment-flow><a href=#deployment-flow>Deployment flow <a href=#deployment-flow>¶</a></a></h2><p><img src=/playbook/../images/playbook/ci-cd.png></p></article></body></html>